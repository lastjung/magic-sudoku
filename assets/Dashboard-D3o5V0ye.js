import{r as ee,c as te,a as m,b as X,j as e,d as w,V as se,e as ae,R as re,S as le}from"./index-CWD_4UZp.js";import{P as G,A as Z,C as J,Z as ie,R as K,S as W,T as ne}from"./zap-i7yUByqQ.js";import{S as $,C as oe,X as ce}from"./x-rG10Fdlu.js";var de=ee();const xe=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],me=te("arrow-left-right",xe),pe=(i,n,t,o,r,s)=>{const[a,l]=m.useState([...i]),[x,d]=m.useState([]),[j,f]=m.useState([]),[g,u]=m.useState(!1),[b,v]=m.useState(!1),[S,y]=m.useState({comparisons:0,swaps:0,time:0}),k=m.useRef(t),p=m.useRef(0),R=m.useRef(1);m.useEffect(()=>{k.current=t},[t]),m.useEffect(()=>{R.current=Math.max(...i,1),b||(l([...i]),u(!1),d([]),f([]),y({comparisons:0,swaps:0,time:0}))},[i,b]);const z=m.useCallback(()=>new Promise(h=>setTimeout(h,1001-k.current)),[]),T=m.useCallback(()=>{p.current++,v(!1)},[]),q=m.useCallback(h=>{T(),l([...h]),u(!1),d([]),f([]),y({comparisons:0,swaps:0,time:0})},[T]),A=async()=>{if(b)return;let h,C=0,E=0,L=0;g?(h=[...i],de.flushSync(()=>{l([...i]),u(!1),d([]),f([]),y({comparisons:0,swaps:0,time:0})})):(h=[...a],C=S.time,E=S.comparisons,L=S.swaps),v(!0);const V=++p.current,Q=performance.now(),Y=async(M,D,H)=>{if(V!==p.current)throw new Error("STOP");const I=performance.now(),F=C+Math.round(I-Q);l([...M]),D.length>0&&X.playNote(M[D[0]],R.current),H==="compare"?(E++,d(D),f([]),y({comparisons:E,swaps:L,time:F})):H==="swap"?(L++,f(D),d([]),y({comparisons:E,swaps:L,time:F})):y({comparisons:E,swaps:L,time:F}),await z()};try{if(await n(h,Y),V===p.current){const M=performance.now(),D=C+Math.round(M-Q),H={comparisons:E,swaps:L,time:D};y(H),u(!0),d([]),f([]),s&&s(H)}}catch(M){M.message!=="STOP"&&console.error("Sort error:",M),s&&s(null)}finally{V===p.current&&v(!1)}},_=m.useRef(0),B=m.useRef(A),O=m.useRef(T);B.current=A,O.current=T;const c=m.useCallback(()=>{b?O.current():B.current()},[b]);m.useEffect(()=>{o>_.current&&(_.current=o,c())},[o,c]);const N=m.useRef(0);return m.useEffect(()=>{r>N.current&&(N.current=r,O.current())},[r]),{array:a,comparing:x,swapping:j,sorted:g,isRunning:b,stats:S,runSort:A,stop:T,reset:q,toggle:c}},be=({value:i,max:n,isComparing:t,isSwapping:o,isSorted:r})=>{const s=i/n*100;return e.jsx("div",{className:w("flex-1 mx-[1px] rounded-t-sm transition-all duration-150",r?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":o?"bg-rose-500 scale-y-110 z-10 shadow-[0_0_12px_rgba(244,63,94,0.6)]":t?"bg-amber-400 shadow-[0_0_8px_rgba(251,191,36,0.5)]":"bg-indigo-500/60 hover:bg-indigo-400"),style:{height:`${s}%`}})},U=({title:i,algorithm:n,complexity:t,desc:o,initialData:r,speed:s,triggerRun:a,triggerStop:l,isSelected:x,onToggleSelect:d,onEnd:j})=>{const{array:f,comparing:g,swapping:u,sorted:b,isRunning:v,stats:S,runSort:y,stop:k}=pe(r,n,s,a,l,j),p=Math.max(...f,1);return e.jsxs("div",{className:w("bg-slate-800/40 backdrop-blur-md border rounded-xl p-4 flex flex-col h-[320px] shadow-xl transition-all group relative overflow-hidden",x?"border-indigo-500/50 bg-indigo-500/5":"border-slate-700 hover:border-slate-600"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 min-h-[32px]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{onClick:d,className:"cursor-pointer group/check",children:e.jsx("div",{className:w("w-4 h-4 rounded border transition-all flex items-center justify-center",x?"bg-indigo-500 border-indigo-500 shadow-lg shadow-indigo-500/30":"border-slate-500 group-hover/check:border-slate-400 bg-slate-900/50"),children:x&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-sm font-bold text-indigo-300 group-hover:text-indigo-200 transition-colors uppercase tracking-widest leading-none mb-1",children:i}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium leading-tight",children:o})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[t&&e.jsx("span",{className:"text-[9px] bg-slate-700/50 text-indigo-300/80 px-1.5 py-0.5 rounded font-mono border border-white/5",children:t}),v?e.jsx("button",{onClick:k,className:"p-1.5 rounded-lg bg-rose-500/20 text-rose-400 hover:bg-rose-500/30 transition-all active:scale-90 border border-rose-500/20",title:"Stop",children:e.jsx("div",{className:"w-3 h-3 bg-current rounded-sm"})}):e.jsx("button",{onClick:y,className:"p-1.5 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 disabled:opacity-20 transition-all active:scale-95 border border-emerald-500/20",children:e.jsx(G,{size:14,fill:"currentColor"})})]})]}),e.jsx("div",{className:"flex-1 flex items-end justify-center mb-4 min-h-0",children:f.map((R,z)=>e.jsx(be,{value:R,max:p,isComparing:g.includes(z),isSwapping:u.includes(z),isSorted:b},z))}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 py-2 border-t border-slate-700/50",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Z,{size:14,className:"text-rose-400 mb-1"}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Comps"}),e.jsx("span",{className:"text-sm font-mono text-slate-200",children:S.comparisons})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(me,{size:14,className:"text-amber-400 mb-1"}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Swaps"}),e.jsx("span",{className:"text-sm font-mono text-slate-200",children:S.swaps})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(J,{size:14,className:"text-sky-400 mb-1"}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Time"}),e.jsxs("span",{className:"text-sm font-mono text-slate-200",children:[(S.time/1e3).toFixed(2),"s"]})]})]})]})},ue=({selectedIds:i,onToggleSelect:n,onRunSelected:t,onStopAll:o,onReset:r,onSelectAll:s,onDeselectAll:a,isRunningAny:l})=>{const x=[{id:"bubble",label:"Bubble"},{id:"selection",label:"Selection"},{id:"insertion",label:"Insertion"},{id:"quick",label:"Quick"},{id:"merge",label:"Merge"},{id:"heap",label:"Heap"},{id:"shell",label:"Shell"},{id:"cocktail",label:"Cocktail"}];return e.jsxs("div",{className:"hidden lg:flex bg-slate-800/60 backdrop-blur-xl border border-indigo-500/30 rounded-xl p-4 flex-col gap-3 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{size:16,className:"text-amber-400 fill-amber-400/20"}),e.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-widest",children:"Control"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:r,className:"group flex items-center justify-center gap-1.5 px-3 py-2.5 bg-slate-700/50 hover:bg-slate-700 hover:text-white text-slate-300 rounded-lg font-bold text-xs border border-slate-600/50 transition-all active:scale-95",children:[e.jsx(K,{size:14,className:"transition-transform duration-500 group-hover:-rotate-180"})," RESET"]}),l?e.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-rose-500/10 hover:bg-rose-500/20 text-rose-400 rounded-lg font-bold text-xs border border-rose-500/30 transition-all active:scale-95",children:[e.jsx(W,{size:14,fill:"currentColor"})," HOLD ALL"]}):e.jsxs("button",{onClick:t,disabled:i.size===0,className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-30 text-white rounded-lg font-bold text-xs shadow-xl shadow-indigo-500/30 transition-all active:scale-95",children:[e.jsx(G,{size:16,fill:"currentColor"})," RUN SELECTED"]})]}),e.jsxs("button",{onClick:()=>i.size===8?a():s(),className:w("w-full flex items-center justify-center gap-2 py-2 rounded-lg border transition-all active:scale-95",i.size===8?"bg-indigo-500/20 border-indigo-500/40 text-indigo-200":"bg-slate-900/40 border-slate-700/50 text-slate-400 hover:text-slate-300"),children:[e.jsxs("div",{className:w("w-4 h-4 rounded border flex items-center justify-center",i.size===8?"bg-indigo-500 border-indigo-500":i.size>0?"bg-indigo-500/50 border-indigo-500":"border-slate-600"),children:[i.size===8&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"}),i.size>0&&i.size<8&&e.jsx("div",{className:"w-2 h-[2px] bg-white"})]}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:i.size===8?"Deselect All":`Select All (${i.size}/8)`})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.map(d=>e.jsxs("label",{className:w("flex items-center gap-2 cursor-pointer p-1.5 rounded-lg border transition-all active:scale-95",i.has(d.id)?"bg-indigo-500/10 border-indigo-500/30 text-indigo-300":"bg-slate-900/30 border-transparent text-slate-500 hover:text-slate-400"),children:[e.jsx("input",{type:"checkbox",className:"hidden",checked:i.has(d.id),onChange:()=>n(d.id)}),e.jsx("div",{className:w("w-4 h-4 rounded border flex items-center justify-center transition-all flex-shrink-0",i.has(d.id)?"bg-indigo-500 border-indigo-500":"border-slate-600"),children:i.has(d.id)&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"})}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:d.label})]},d.id))})]})},he=({selectedIds:i,onToggleSelect:n,onRunSelected:t,onStopAll:o,onReset:r,onSelectAll:s,onDeselectAll:a,isRunningAny:l,arraySize:x,setArraySize:d,speed:j,setSpeed:f,onRandomize:g})=>{const[u,b]=m.useState(!1),[v,S]=m.useState(!1),y=()=>{const p=!v;S(p),X.setEnabled(p)},k=[{id:"bubble",label:"Bubble"},{id:"selection",label:"Selection"},{id:"insertion",label:"Insertion"},{id:"quick",label:"Quick"},{id:"merge",label:"Merge"},{id:"heap",label:"Heap"},{id:"shell",label:"Shell"},{id:"cocktail",label:"Cocktail"}];return e.jsx("div",{className:"lg:hidden fixed bottom-6 left-0 right-0 z-40 px-6 pointer-events-none",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-2 pointer-events-auto",children:[u&&e.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-4 shadow-2xl mb-2 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-white/5",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Select Algorithms"}),e.jsx("button",{onClick:y,className:w("p-1.5 rounded transition-all",v?"bg-indigo-500 text-white":"bg-slate-700 text-slate-500"),children:v?e.jsx(se,{size:14}):e.jsx(ae,{size:14})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("button",{onClick:g,className:"flex items-center justify-center gap-2 py-2.5 bg-slate-100 hover:bg-white text-slate-900 rounded-lg font-bold text-xs transition-all active:scale-95",children:[e.jsx(re,{size:14}),"Randomize"]}),e.jsx("button",{onClick:()=>i.size===8?a():s(),className:"flex items-center justify-center py-2.5 text-xs font-bold uppercase tracking-wide rounded-lg bg-indigo-500 text-white shadow-lg shadow-indigo-500/30 active:bg-indigo-600",children:i.size===8?"Deselect All":"Select All"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(p=>e.jsxs("div",{onClick:()=>n(p.id),className:w("flex items-center gap-3 p-3 rounded-xl border transition-all active:scale-95 cursor-pointer",i.has(p.id)?"bg-indigo-500/20 border-indigo-500/50 text-indigo-200":"bg-slate-900/40 border-slate-700/50 text-slate-400"),children:[e.jsx("div",{className:w("w-4 h-4 rounded border flex items-center justify-center transition-all",i.has(p.id)?"bg-indigo-500 border-indigo-500":"border-slate-600"),children:i.has(p.id)&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"})}),e.jsx("span",{className:"text-sm font-medium",children:p.label})]},p.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1",children:[e.jsx(le,{size:10})," Count"]}),e.jsx("span",{className:"text-[10px] font-mono text-indigo-400 font-bold",children:x})]}),e.jsx("input",{type:"range",min:"10",max:"100",value:x,onChange:p=>d(Number(p.target.value)),className:"accent-indigo-500 h-1.5 w-full bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1",children:[e.jsx($,{size:10})," Speed"]}),e.jsx("span",{className:"text-[10px] font-mono text-indigo-400 font-bold",children:j})]}),e.jsx("input",{type:"range",min:"1",max:"1000",value:j,onChange:p=>f(Number(p.target.value)),className:"accent-indigo-500 h-1.5 w-full bg-slate-700 rounded-lg appearance-none cursor-pointer"})]})]})]}),e.jsxs("div",{className:"h-16 bg-slate-800/80 backdrop-blur-xl border border-white/10 rounded-2xl shadow-xl flex items-center justify-between p-2 pr-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/10 to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(!u),className:w("w-12 h-12 flex items-center justify-center rounded-xl transition-all active:scale-95",u?"bg-slate-700 text-white":"bg-transparent text-slate-400 hover:text-white"),children:u?e.jsx(oe,{size:20}):e.jsx($,{size:20})}),e.jsx("button",{onClick:r,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-slate-700/50 text-slate-300 hover:bg-slate-700 active:scale-95 transition-all",children:e.jsx(K,{size:18})})]}),e.jsx("div",{className:"flex-1 pl-2",children:l?e.jsxs("button",{onClick:o,className:"w-full h-12 flex items-center justify-center gap-2 bg-rose-500/10 hover:bg-rose-500/20 text-rose-400 border border-rose-500/30 rounded-xl font-bold shadow-lg shadow-rose-900/10 active:scale-95 transition-all",children:[e.jsx(W,{size:16,fill:"currentColor"})," STOP"]}):e.jsxs("button",{onClick:t,disabled:i.size===0,className:"w-full h-12 flex items-center justify-center gap-2 bg-emerald-400 hover:bg-emerald-300 disabled:opacity-50 disabled:active:scale-100 text-white rounded-xl font-bold shadow-lg shadow-emerald-400/30 active:scale-95 transition-all",children:[e.jsx(G,{size:18,fill:"currentColor"})," RUN"]})})]})]})})},fe=({results:i,onClose:n})=>{if(!i||i.length===0)return null;const t=[...i].sort((s,a)=>s.time-a.time),o=Math.max(...i.map(s=>s.time),1),r=s=>s===1?"text-orange-400":s===2?"text-emerald-400":s===3?"text-yellow-400":"text-slate-500";return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"text-yellow-400",size:24}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Scoreboard"})]}),e.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"p-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(J,{size:16,className:"text-sky-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Time (seconds)"})]}),e.jsx("div",{className:"space-y-2",children:t.map((s,a)=>{const l=t[0]?.time||1,x=Math.round(s.time/l*100);return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:w("w-5 text-center font-bold",r(a+1)),children:a+1}),e.jsx("span",{className:w("w-24 text-sm truncate font-medium",r(a+1)),children:s.title}),e.jsxs("div",{className:"flex-1 h-6 bg-slate-700/50 rounded-lg overflow-hidden relative",children:[e.jsx("div",{className:w("h-full rounded-lg transition-all duration-500",a===0?"bg-gradient-to-r from-orange-500 to-orange-400":a===1?"bg-gradient-to-r from-emerald-500 to-emerald-400":a===2?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-indigo-600 to-indigo-500"),style:{width:`${s.time/o*100}%`}}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center gap-2 text-xs font-mono text-white/90",children:[(s.time/1e3).toFixed(2),"s",e.jsxs("span",{className:w("font-bold",a===0?"text-orange-200":"text-white/60"),children:["(",x,"%)"]})]})]})]},s.title)})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Z,{size:16,className:"text-rose-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Statistics"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-slate-400 border-b border-slate-700",children:[e.jsx("th",{className:"text-left py-2 font-medium w-28",children:"Algorithm"}),e.jsx("th",{className:"text-center py-2 font-medium",children:"Comparisons"}),e.jsx("th",{className:"text-center py-2 font-medium",children:"Swaps"}),e.jsx("th",{className:"text-center py-2 font-medium",children:"Time"}),e.jsx("th",{className:"text-center py-2 font-medium",children:"%"}),e.jsx("th",{className:"text-center py-2 font-medium",children:"O(n)"})]})}),e.jsx("tbody",{children:t.map((s,a)=>{const l=t[0]?.time||1,x=Math.round(s.time/l*100);return e.jsxs("tr",{className:"border-b border-slate-700/50 text-slate-300",children:[e.jsxs("td",{className:w("py-2 flex items-center gap-1",r(a+1)),children:[e.jsxs("span",{className:"font-bold",children:[a+1,"."]}),e.jsx("span",{className:"truncate",children:s.title.replace(" Sort","")})]}),e.jsx("td",{className:"py-2 text-center font-mono",children:s.comparisons.toLocaleString()}),e.jsx("td",{className:"py-2 text-center font-mono",children:s.swaps.toLocaleString()}),e.jsxs("td",{className:"py-2 text-center font-mono text-sky-400",children:[(s.time/1e3).toFixed(2),"s"]}),e.jsxs("td",{className:w("py-2 text-center font-bold",a===0?"text-orange-400":"text-slate-500"),children:["(",x,"%)"]}),e.jsx("td",{className:"py-2 text-center font-mono text-xs text-slate-500",children:s.complexity||"O(n²)"})]},s.title)})})]})})]}),e.jsx("div",{className:"p-4 border-t border-slate-700 flex justify-center",children:e.jsx("button",{onClick:n,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"Close"})})]})})},ge=async(i,n)=>{let t=[...i];for(let o=0;o<t.length;o++)for(let r=0;r<t.length-o-1;r++)await n(t,[r,r+1],"compare"),t[r]>t[r+1]&&([t[r],t[r+1]]=[t[r+1],t[r]],await n(t,[r,r+1],"swap"));return t},we=async(i,n)=>{let t=[...i];for(let o=0;o<t.length;o++){let r=o;for(let s=o+1;s<t.length;s++)await n(t,[r,s],"compare"),t[s]<t[r]&&(r=s);r!==o&&([t[o],t[r]]=[t[r],t[o]],await n(t,[o,r],"swap"))}return t},je=async(i,n)=>{let t=[...i];for(let o=1;o<t.length;o++)for(let r=o-1;r>=0&&(await n(t,[r,r+1],"compare"),t[r]>t[r+1]);r--)[t[r],t[r+1]]=[t[r+1],t[r]],await n(t,[r,r+1],"swap");return t},Ne=async(i,n)=>{let t=[...i];const o=async(s,a)=>{let l=t[a],x=s-1;for(let d=s;d<a;d++)await n(t,[d,a],"compare"),t[d]<l&&(x++,[t[x],t[d]]=[t[d],t[x]],await n(t,[x,d],"swap"));return[t[x+1],t[a]]=[t[a],t[x+1]],await n(t,[x+1,a],"swap"),x+1},r=async(s,a)=>{if(s<a){let l=await o(s,a);await r(s,l-1),await r(l+1,a)}};return await r(0,t.length-1),t},ve=async(i,n)=>{let t=[...i];const o=async(s,a,l)=>{let x=a-s+1,d=l-a,j=t.slice(s,a+1),f=t.slice(a+1,l+1),g=0,u=0,b=s;for(;g<x&&u<d;)await n(t,[s+g,a+1+u],"compare"),j[g]<=f[u]?(t[b]=j[g],g++):(t[b]=f[u],u++),await n(t,[b],"swap"),b++;for(;g<x;)t[b]=j[g],await n(t,[b],"swap"),g++,b++;for(;u<d;)t[b]=f[u],await n(t,[b],"swap"),u++,b++},r=async(s,a)=>{if(s<a){let l=Math.floor((s+a)/2);await r(s,l),await r(l+1,a),await o(s,l,a)}};return await r(0,t.length-1),t},ye=async(i,n)=>{let t=[...i];const o=t.length,r=async(s,a)=>{let l=a;const x=2*a+1,d=2*a+2;x<s&&(await n(t,[l,x],"compare"),t[x]>t[l]&&(l=x)),d<s&&(await n(t,[l,d],"compare"),t[d]>t[l]&&(l=d)),l!==a&&([t[a],t[l]]=[t[l],t[a]],await n(t,[a,l],"swap"),await r(s,l))};for(let s=Math.floor(o/2)-1;s>=0;s--)await r(o,s);for(let s=o-1;s>0;s--)[t[0],t[s]]=[t[s],t[0]],await n(t,[0,s],"swap"),await r(s,0);return t},Se=async(i,n)=>{let t=[...i];const o=t.length;for(let r=Math.floor(o/2);r>0;r=Math.floor(r/2))for(let s=r;s<o;s++){let a=t[s],l=s;for(await n(t,[l,l-r],"compare");l>=r&&t[l-r]>a;)t[l]=t[l-r],await n(t,[l,l-r],"swap"),l-=r,l>=r&&await n(t,[l,l-r],"compare");t[l]=a,await n(t,[l],"swap")}return t},ke=async(i,n)=>{let t=[...i],o=0,r=t.length-1,s=!0;for(;s;){s=!1;for(let a=o;a<r;a++)await n(t,[a,a+1],"compare"),t[a]>t[a+1]&&([t[a],t[a+1]]=[t[a+1],t[a]],await n(t,[a,a+1],"swap"),s=!0);if(!s)break;r--,s=!1;for(let a=r;a>o;a--)await n(t,[a,a-1],"compare"),t[a]<t[a-1]&&([t[a],t[a-1]]=[t[a-1],t[a]],await n(t,[a,a-1],"swap"),s=!0);o++}return t},P=[{id:"bubble",title:"Bubble Sort",fn:ge,complexity:"O(n²)",desc:"Spot the largest values bubbling to the top!"},{id:"selection",title:"Selection Sort",fn:we,complexity:"O(n²)",desc:"Hunting for the smallest number to put first!"},{id:"insertion",title:"Insertion Sort",fn:je,complexity:"O(n²)",desc:"find small number by reverse bubbling sort."},{id:"quick",title:"Quick Sort",fn:Ne,complexity:"O(n log n)",desc:"Divides array into partitions and sorts them recursively."},{id:"merge",title:"Merge Sort",fn:ve,complexity:"O(n log n)",desc:"Recursively divides array in half and merges sorted parts."},{id:"heap",title:"Heap Sort",fn:ye,complexity:"O(n log n)",desc:"Builds a max-heap and repeatedly extracts the maximum."},{id:"shell",title:"Shell Sort",fn:Se,complexity:"O(n log n)",desc:"Sorts elements at specific intervals, reducing the gap."},{id:"cocktail",title:"Cocktail Sort",fn:ke,complexity:"O(n²)",desc:"Bidirectional bubble sort, shaking elements both ways."}],Te=({data:i,speed:n,setSpeed:t,arraySize:o,setArraySize:r,onRandomize:s})=>{const[a,l]=m.useState(new Set(P.map(c=>c.id))),[x,d]=m.useState({}),[j,f]=m.useState(new Set),[g,u]=m.useState(0),[b,v]=m.useState(!1),[S,y]=m.useState([]),k=m.useRef({}),p=m.useRef(new Set),R=m.useCallback(c=>{l(N=>{const h=new Set(N);return h.has(c)?h.delete(c):h.add(c),h})},[]),z=()=>l(new Set(P.map(c=>c.id))),T=()=>l(new Set),q=()=>{k.current={},p.current=new Set(a),v(!1);const c={...x},N=new Set(j);a.forEach(h=>{const C=c[h]||0;c[h]=Math.max(C,0)+1,N.add(h)}),d(c),f(N)},A=()=>{u(c=>c+1),f(new Set),p.current=new Set},_=()=>{A(),s&&s()},B=(c,N)=>{if(f(h=>{const C=new Set(h);return C.delete(c),C}),N&&p.current.has(c)){const h=P.find(C=>C.id===c);k.current[c]={...N,title:h?.title||c,complexity:h?.complexity||"O(n²)"},p.current.delete(c),p.current.size===0&&Object.keys(k.current).length>0&&(y(Object.values(k.current)),v(!0))}},O=P.filter(c=>a.has(c.id));return e.jsxs("div",{className:"max-w-7xl mx-auto px-6 pt-0 pb-28 lg:pb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[O.slice(0,2).map(c=>e.jsx(U,{title:c.title,complexity:c.complexity,desc:c.desc,algorithm:c.fn,initialData:i,speed:n,isSelected:!0,onToggleSelect:()=>R(c.id),triggerRun:x[c.id]||0,triggerStop:g,onEnd:N=>B(c.id,N)},c.id)),e.jsx(ue,{selectedIds:a,onToggleSelect:R,onRunSelected:q,onStopAll:A,onReset:_,onSelectAll:z,onDeselectAll:T,isRunningAny:j.size>0}),O.slice(2).map(c=>e.jsx(U,{title:c.title,complexity:c.complexity,desc:c.desc,algorithm:c.fn,initialData:i,speed:n,isSelected:!0,onToggleSelect:()=>R(c.id),triggerRun:x[c.id]||0,triggerStop:g,onEnd:N=>B(c.id,N)},c.id))]}),e.jsx(he,{selectedIds:a,onToggleSelect:R,onRunSelected:q,onStopAll:A,onReset:_,onSelectAll:z,onDeselectAll:T,isRunningAny:j.size>0,arraySize:o,setArraySize:r,speed:n,setSpeed:t,onRandomize:s}),b&&e.jsx(fe,{results:S,onClose:()=>v(!1)})]})};export{Te as default};
